(function(){!function(t){var i;return t.fn.spiralTile=function(n){var o,e,h,r,a;return o={mode:"non-layer",orientation:"landscape",clockwise:!0,beginning:"auto",ratio:"auto",width:"auto",height:"auto"},r=t.extend(o,n),"golden"===r.ratio&&(r.ratio=1.618),"silver"===r.ratio&&(r.ratio=1.414),"auto"===r.beginning&&("portrait"===r.orientation&&(r.beginning="top"),"landscape"===r.orientation&&(r.beginning="left")),h=a=e=0,"auto"===r.ratio?(a=r.width,e=r.height,h=e/a):"auto"===r.width?"landscape"===r.orientation?(h=r.ratio,1>h&&(h=1/h),e=r.height,a=e*h):"portrait"===r.orientation&&(h=r.ratio,h>1&&(h=1/h),e=r.height,a=e*h):"auto"===r.height&&("landscape"===r.orientation?(h=r.ratio,1>h&&(h=1/h),a=r.width,e=a/h):"portrait"===r.orientation&&(h=r.ratio,h>1&&(h=1/h),a=r.width,e=a/h)),this.each(function(n,o){var h;return h=t(this).children().size()-1,t(this).width(a).height(e).css("position","relative").children().each(function(n,o){var s;return s=i(n,h,a,e,r.beginning,r.clockwise,"layer"===r.mode),t(this).css("position","absolute").css("left",s.x).css("top",s.y).width(s.w-(t(this).outerWidth(!0)-t(this).width())).height(s.h-(t(this).outerHeight(!0)-t(this).height()))})}),this},i=function(t,i,n,o,e,h,r){var a,s,w,u,c,g,l,d,y,f,x,p,b,v;if(c=n,u=o,g=0,l=0,d={x:g,y:l,w:c,h:u},0===t&&0===i)return d;if(n>o){if(d.w=c-u*u/c,g+=c-u*u/c,c=u*u/c,t>0)for(a=s=0,y=t-1;y>=0?y>=s:s>=y;a=y>=0?++s:--s){if(a===i-1){d={x:g,y:l,w:c,h:u};break}p=c,x=u,b=g,v=l,a%4===0?(d.x=b,d.y=v,d.w=p,d.h=x-p*p/x,l+=x-p*p/x,u=p*p/x):a%4===1?(d.x=b+x*x/p,d.y=v,d.w=p-x*x/p,d.h=x,c=x*x/p):a%4===2?(d.x=b,d.y=v+p*p/x,d.w=p,d.h=x-p*p/x,u=p*p/x):a%4===3&&(d.x=b,d.y=v,d.w=p-x*x/p,d.h=x,g+=p-x*x/p,c=x*x/p)}h||(d.y=o/2+(o/2-d.y-d.h)),"right"===e&&(d.x=n/2+(n/2-d.x-d.w))}else{if(d.h=u-c*c/u,l+=u-c*c/u,u=c*c/u,t>0)for(a=w=0,f=t-1;f>=0?f>=w:w>=f;a=f>=0?++w:--w){if(a===i-1){d={x:g,y:l,w:c,h:u};break}p=c,x=u,b=g,v=l,a%4===0&&(d.x=b+x*x/p,d.y=v,d.w=p-x*x/p,d.h=x,c=x*x/p),a%4===1&&(d.x=b,d.y=v+p*p/x,d.w=p,d.h=x-p*p/x,u=p*p/x),a%4===2&&(d.x=b,d.y=v,d.w=p-x*x/p,d.h=x,g+=p-x*x/p,c=x*x/p),a%4===3&&(d.x=b,d.y=v,d.w=p,d.h=x-p*p/x,l+=x-p*p/x,u=p*p/x)}h||(d.x=n/2+(n/2-d.x-d.w)),"bottom"===e&&(d.y=o/2+(o/2-d.y-d.h))}return d}}(jQuery)}).call(this);